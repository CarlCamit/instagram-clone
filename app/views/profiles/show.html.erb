<nav class="navbar">
  <h1><%= @profile.username %></h1>
</nav>

<div class="container-fluid">

<p id="notice"><%= notice%></p>

<div class="d-flex justify-content-around">
  <p class="profile-count text-center">
    <%= pluralize(@profile.user.photos.count, 'photo') %>
  </p>
  <p class="profile-count text-center">
    <%= pluralize(@profile.user.followers.count, 'follower') %>
  </p>
  <p class="profile-count text-center">
    <%= pluralize(@profile.user.following.count, 'following', plural: 'following') %>
  </p>
</div>

<h3><%= @profile.name %></h3>
<p><%= @profile.biography %></p>

<% if @profile.user == current_user %>
  <%= link_to 'Edit', edit_profile_path(@profile) %>
<% else %>
  <%= form_with(model: @profile.user, method: :patch) do |f| %>
    <% toggle_follow = @profile.user.followed_by?(current_user) %>
    <%= f.hidden_field :toggle_follow, value: true %>
    <%= f.button toggle_follow ? 'Unfollow' : 'Follow', class: 'btn btn-primary btn-block' %>
  <% end %>
<% end %>

</div>
